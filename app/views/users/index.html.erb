<p id="notice"><%= notice %></p>

<h1>EllaJune Family!</h1>
<%= form_tag users_path, :method => 'get' do %>
  <p>
    <%= label_tag(:search, "Search for Members By Name:") %>
    <%= text_field_tag :search, params[:search] %>
    <%= submit_tag "Search", :name => nil %>
  </p>
<% end %>

<table>
  <tr>
    <th>Name</th>
    <th>Email</th>
    <th>Interests</th>
    <th>Birthday</th>
    <th>Website</th>
    <th>City</th>
    <th>State</th>
    <th>Country</th>
  </tr>

<% @users.each do |user| %>
  <tr>
    <td><%= user.name %></td>
    <td><%= user.email %></td>
    <td><%= raw user.interest_tag_list.map { |t| link_to t, interest_tag_path(t) }.join(', ') %></td>
    <td><%= user.birthday %></td>
    <td><%= user.website %></td>
    <td><%= user.city %></td>
    <td><%= user.state %></td>
    <td><%= user.country %></td>
    <td><%= link_to 'Show', user %></td>
  </tr>
<% end %>
</table>

<div id="interest_tag_cloud">
  <% interest_tag_cloud User.tag_counts, %w{s m l} do |interest_tag, css_class| %>
    <%= link_to interest_tag.name, interest)tag_path(interest_tag.name), class: css_class %>
  <% end %>
</div>